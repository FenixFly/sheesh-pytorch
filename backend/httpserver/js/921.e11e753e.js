(self["webpackChunksheesh"]=self["webpackChunksheesh"]||[]).push([[921],{7921:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>k});var t=l(3673),s=l(857);const r={class:"q-pa-md row"},n={class:"col-12 q-pa-md"};function o(e,a,l,o,i,c){const u=(0,t.up)("q-space"),m=(0,t.up)("q-icon"),p=(0,t.up)("q-input"),d=(0,t.up)("q-td"),f=(0,t.up)("q-table"),w=(0,t.up)("q-card"),b=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(b,null,{default:(0,t.w5)((()=>[(0,t.Wm)("div",r,[(0,t.Wm)("div",n,[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Wm)(f,{title:"Пациенты",rows:e.rows,columns:e.columns,filter:e.filter,"row-key":"name"},{top:(0,t.w5)((()=>[(0,t.Wm)(u),(0,t.Wm)(p,{borderless:"",dense:"",debounce:"300",color:"primary",modelValue:e.filter,"onUpdate:modelValue":a[1]||(a[1]=a=>e.filter=a),placeholder:"Поиск"},{append:(0,t.w5)((()=>[(0,t.Wm)(m,{name:"search"})])),_:1},8,["modelValue"])])),"body-cell":(0,t.w5)((a=>[(0,t.Wm)(d,{props:a,onClick:l=>e.$router.push(`/patient/${a.row.id}`),style:{cursor:"pointer"}},{default:(0,t.w5)((()=>[(0,t.Wm)("div",null,(0,s.zw)(a.value),1)])),_:2},1032,["props","onClick"])])),_:1},8,["rows","columns","filter"])])),_:1})])])])),_:1})}var i=l(4434);const c={name:"PagePatients",components:{},data:()=>({rows:[],columns:[{name:"name",field:"name",label:"Имя",align:"left",sortable:!0},{name:"age",field:"age",label:"Возраст",align:"left",sortable:!0},{name:"lastRgTimeString",field:"lastRgTimeString",label:"Дата последней ртмограммы",align:"left",sortable:!0},{name:"risk",field:"risk",label:"Риск осложнений",align:"left",format:(e,a)=>`${e}%`,sortable:!0}],filter:""}),methods:{},async created(){try{let e=await fetch(this.$root.api.patientsUrl);e.ok?this.rows=await e.json():i.Z.create("Что-то пошло не так, Попробуйте перезагрузить страницу (ошибка"+e.status+")")}catch(e){i.Z.create("Что-то пошло не так, Попробуйте перезагрузить страницу")}}};var u=l(4379),m=l(151),p=l(553),d=l(2025),f=l(4689),w=l(4554),b=l(3884),h=l(7518),g=l.n(h);c.render=o;const k=c;g()(c,"components",{QPage:u.Z,QCard:m.Z,QTable:p.Z,QSpace:d.Z,QInput:f.Z,QIcon:w.Z,QTd:b.Z})}}]);