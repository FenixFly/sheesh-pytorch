<template>
  <q-page class="flex flex-center">
    <Cardiogram :ecgData="ecgData" ref="cardiogram" />
    <button @click="addDataToEcg()">add data</button>
  </q-page>
</template>

<script>
import Cardiogram from '../../components/Cardiogram.vue';
import ecgData from "../../ecg.js";

export default {
  name: 'PageIndex',
  components: {
    Cardiogram,
  },
  data:() => ({
    ecgData: ecgData,
  }),
  methods: {
    addDataToEcg(){
      console.log('addDataToEcg');
      this.ecgData.datasets.push({
        borderColor: '#FF0000',
        fill: false,
        lineTension: 0,
        data: [
          { x: 1455, y: -225 },
          { x: 1456, y: -239 },
          { x: 1457, y: -246 },
          { x: 1458, y: -257 },
          { x: 1459, y: -276 },
          { x: 1460, y: -298 },
          { x: 1461, y: -297 },
          { x: 1462, y: -305 },
          { x: 1463, y: -312 },
          { x: 1464, y: -305 },
          { x: 1465, y: -300 },
          { x: 1466, y: -312 },
          { x: 1467, y: -321 },
          { x: 1468, y: -318 },
          { x: 1469, y: -306 },
          { x: 1470, y: -302 },
          { x: 1471, y: -296 },
          { x: 1472, y: -297 },
          { x: 1473, y: -294 },
          { x: 1474, y: -287 },
          { x: 1475, y: -290 },
          { x: 1476, y: -301 },
          { x: 1477, y: -310 },
          { x: 1478, y: -312 },
          { x: 1479, y: 0 },
          { x: 1480, y: -265 },
          { x: 1481, y: -362 },
          { x: 1482, y: -303 },
          { x: 1483, y: -302 },
          { x: 1484, y: -293 },
          { x: 1485, y: -296 },
          { x: 1486, y: -295 },
          { x: 1487, y: -286 },
          { x: 1488, y: -291 },
          { x: 1489, y: -287 },
          { x: 1490, y: -268 },
          { x: 1491, y: -243 },
          { x: 1492, y: -231 },
          { x: 1493, y: -229 },
          { x: 1494, y: -228 },
          { x: 1495, y: -229 },
          { x: 1496, y: -236 },
          { x: 1497, y: -243 },
          { x: 1498, y: -242 },
          { x: 1499, y: -217 },
          { x: 1500, y: -206 },
          { x: 1501, y: -199 },
          { x: 1502, y: -189 },
          { x: 1503, y: -187 },
          { x: 1504, y: -178 },
          { x: 1505, y: -163 },
          { x: 1506, y: -152 },
          { x: 1507, y: -150 },
          { x: 1508, y: -149 },
          { x: 1509, y: -144 },
          { x: 1510, y: -137 },
          { x: 1511, y: -121 },
          { x: 1512, y: -119 },
          { x: 1513, y: -132 },
          { x: 1514, y: -126 },
          { x: 1515, y: -123 },
          { x: 1516, y: -104 },
          { x: 1517, y: -96 },
          { x: 1518, y: -97 },
          { x: 1519, y: -82 },
          { x: 1520, y: -56 },
          { x: 1521, y: -42 },
          { x: 1522, y: -47 },
          { x: 1523, y: -40 },
          { x: 1524, y: -33 },
          { x: 1525, y: -37 },
          { x: 1526, y: -43 },
          { x: 1527, y: -51 },
          { x: 1528, y: -51 },
          { x: 1529, y: -35 },
          { x: 1530, y: -19 },
          { x: 1531, y: -12 },
          { x: 1532, y: -11 },
          { x: 1533, y: -9 },
          { x: 1534, y: -2 },
          { x: 1535, y: 12 },
          { x: 1536, y: 24 },
          { x: 1537, y: 24 },
          { x: 1538, y: 32 },
          { x: 1539, y: 42 },
          { x: 1540, y: 39 },
          { x: 1541, y: 45 },
          { x: 1542, y: 55 },
          { x: 1543, y: 43 },
          { x: 1544, y: 42 },
          { x: 1545, y: 45 },
          { x: 1546, y: 46 },
          { x: 1547, y: 51 },
          { x: 1548, y: 58 },
          { x: 1549, y: 61 },
          { x: 1550, y: 57 },
          { x: 1551, y: 55 },
          { x: 1552, y: 46 },
          { x: 1553, y: 29 },
          { x: 1554, y: 23 },
          { x: 1555, y: 24 },
          { x: 1556, y: 21 },
          { x: 1557, y: 27 },
          { x: 1558, y: 45 },
          { x: 1559, y: 56 },
          { x: 1560, y: 79 },
          { x: 1561, y: 102 },
          { x: 1562, y: 103 },
          { x: 1563, y: 114 },
          { x: 1564, y: 129 },
          { x: 1565, y: 116 },
          { x: 1566, y: 112 },
          { x: 1567, y: 127 },
          { x: 1568, y: 130 },
          { x: 1569, y: 135 },
          { x: 1570, y: 143 },
          { x: 1571, y: 144 },
          { x: 1572, y: 157 },
          { x: 1573, y: 153 },
          { x: 1574, y: 140 },
          { x: 1575, y: 135 },
          { x: 1576, y: 129 },
          { x: 1577, y: 111 },
          { x: 1578, y: 103 },
          { x: 1579, y: 106 },
          { x: 1580, y: 108 },
          { x: 1581, y: 94 },
          { x: 1582, y: 96 },
          { x: 1583, y: 89 },
          { x: 1584, y: 85 },
          { x: 1585, y: 89 },
          { x: 1586, y: 94 },
          { x: 1587, y: 82 },
        ],
      });
      this.$refs.cardiogram.updateChart();
    },
  },
}
</script>
